name: Text Preprocessor Component
description: Component for preprocessing text data and encoding intents
inputs:
  - {name: train_data, type: Dataset}  # Output from Data Loader
  - {name: val_data, type: Dataset}    # Output from Data Loader
  - {name: metadata, type: String}     # Metadata from Data Loader
  - {name: text_column, type: String, optional: true}
  - {name: intent_column, type: String, optional: true}
outputs:
  - {name: train_processed, type: Dataset}
  - {name: val_processed, type: Dataset}
  - {name: intent_mapping, type: String}
  - {name: label_mapping, type: Dataset}
  - {name: preprocessing_metadata, type: String}
implementation:
  container:
    image: ravidocker189/preprocessingdata:8
    command: ["python"]
    args: [
      -u, preprocessor.py,
      "--train-data", {inputPath: train_data},
      "--val-data", {inputPath: val_data},
      "--metadata", {inputPath: metadata},
      "--text-column", {inputValue: text_column},
      "--intent-column", {inputValue: intent_column},
      "--output-dir", "/data/output"
    ]
    fileOutputs:
      train_processed: "/data/output/train_processed.csv"
      val_processed: "/data/output/val_processed.csv"
      intent_mapping: "/data/output/intent_mapping.json"
      label_mapping: "/data/output/label_mapping.csv"
      preprocessing_metadata: "/data/output/preprocessing_metadata.json"
